<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{% block title %}URL Shortener{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      body { font-family: sans-serif; max-width: 960px; margin: 0 auto; padding: 16px; }
      nav { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
      table { width: 100%; border-collapse: collapse; margin-top: 16px; }
      th, td { border-bottom: 1px solid #ddd; padding: 8px; text-align: left; }
      .actions a { margin-right: 8px; }
      form.inline { display: inline; }
      .muted { color: #666; }
    </style>
  </head>
  <body>
    <nav>
      <a href="/">Home</a>
      {% if user.is_authenticated %}
        <a href="{% url 'dashboard' %}">Dashboard</a>
        <span>Hi, {{ user.username }}</span>
        <form method="post" action="{% url 'logout' %}" class="inline">
          {% csrf_token %}
          <button type="submit">Logout</button>
        </form>
      {% else %}
        <a href="{% url 'login' %}">Login</a>
        <a href="{% url 'register' %}">Register</a>
      {% endif %}
    </nav>

    {% if messages %}
      <ul>
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}

    <main>
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
